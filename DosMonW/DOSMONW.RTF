{\rtf1\ansi \deff0\deflang1033{\fonttbl{\f0\froman\fcharset0\fprq2 Tms Rmn{\*\falt Times New Roman};}{\f9\fswiss\fcharset0\fprq2 Helvetica{\*\falt Arial};}
{\f19\froman\fcharset0\fprq0 Liberation Serif{\*\falt Times New Roman};}{\f20\fswiss\fcharset0\fprq0 Liberation Sans{\*\falt Arial};}{\f21\froman\fcharset0\fprq0 Pica;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;
\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;
\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\nowidctlpar\hyphpar0 \fs20\lang1031\kerning1 \snext0 Normal;}{\*\cs10 \additive Default Paragraph Font;}{\*\cs15 \additive\fs16\super \sbasedon10 Footnote Characters;}{\*\cs16 \additive
\fs16\super  Footnote Anchor;}{\s17\sb240\sa120\keepn\nowidctlpar \f20\fs28\lang1031 \sbasedon0\snext18 Heading;}{\s18\sa140\sl276\slmult1\nowidctlpar \fs20\lang1031 \sbasedon0\snext18 Text Body;}{\s19\sa140\sl276\slmult1\nowidctlpar \fs20\lang1031 
\sbasedon18\snext19 List;}{\s20\sb120\sa120\nowidctlpar\noline \i\lang1031 \sbasedon0\snext20 caption;}{\s21\nowidctlpar\noline \fs20\lang1031 \sbasedon0\snext21 Index;}{\s22\nowidctlpar \fs20\lang1031 \sbasedon0\snext22 Footnote;}{
\s23\nowidctlpar\tqr\tx5040\tqr\tx9216\hyphpar0 \f21\lang1031\kerning1 \snext23 ZD;}{\s24\fi-1134\li567\nowidctlpar\tx567\tx1134\tx2835\hyphpar0 \f9\fs18\lang1031\kerning1 \snext24 W1;}{\s25\fi-1134\li567\nowidctlpar\tx567\tx1134\tx1418\tx2835\tx6804 
\f9\fs18\lang1031 \sbasedon24\snext25 W2;}}{\info{\title Helpfile zu DosMonW}{\author GrA}{\creatim\yr1992\mo9\dy26\hr18\min35}{\revtim\yr2025\mo4\dy20\hr3\min14}{\version1}{\edmins2}{\nofpages0}{\nofwords0}{\nofchars0}{\vern49197}}
\paperw11906\paperh16838\margl1134\margr1134\margt1418\margb1134 \deftab709\ftnbj\aenddoc\ftnrestart\hyphcaps0\hyphauto1\formshade \fet0{\*\ftnsep \pard\plain \nowidctlpar\hyphpar0 \fs20\lang1031\kerning1 {\f19\fs24\lang1033\kerning0 \chftnsep }
\par }\sectd \sbknone\linex0\headery709\footery709\colsx709\sectunlocked1 {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}
{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang
{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \s24\qj\fi-1134\li567\nowidctlpar\tx567\tx1134\tx2835\hyphpar0 
\f9\fs18\lang1031\kerning1 
\par 
\par \tab \tab {\fs22 \tab DOS-Monitor }{\b\fs22 DosMonW}
\par 
\par {\fs20 \tab }{\fs20\ul Funktionsweise}
\par 
\par \tab Der Monitor \'fcberwacht die Aufrufe des Interrupts 0x21 und speichert die Inhalte der Register vor und nach dem Aufruf in einer Tabelle. Diese Tabelle bietet bis zu 1000 Eintr\'e4gen Platz. Bei \'dcberschreitung der maximal m\'f6glichen Eintr\'e4
ge werden die \'e4ltesten Eintr\'e4ge durch die neuen \'fcberschrieben (Ringpuffer).
\par 
\par \tab Die Ausgabe der gespeicherten Werte geschieht in Listenform. Neuere Eintr\'e4ge werden dabei {\b oben} an die Liste angef\'fcgt. Jede Zeile des Protokolls beschreibt 1 DOS-Aufruf \'fc
ber INT 0x21. Es werden die wichtigsten Register vor (=links) und nach (=rechts) dem DOS-Aufruf angezeigt (Ausnahmen siehe weiter unten). Mit den normalen Scrollbefehlen kann in der Liste gebl\'e4ttert werden. Durch Doppelklick auf eine Protokollzeile k
\'f6nnen alle Register des entsprechenden DOS-Aufrufs angeschaut werden.
\par 
\par \tab Wird ganz an den Anfang der Liste (nach oben) positioniert, geht das Programm in einen "selbstauffrischenden" Modus \'fcber. Neue Eintr\'e4ge (=neue DOS-Aufrufe) werden automatisch ausgegeben, zuvor die bisherigen Eintr\'e4
ge nach unten gescrollt. In der Voreinstellung geschieht diese Auffrischung alle 2 Sekunden.
\par 
\par {\fs20 \tab }{\fs20\ul Ausnahmen in der Aufbereitung}{\fs20 :}
\par 
\par \tab {\b Funktionen 0x39 bis 0x3D, 0x41 und 0x5B }. Statt des Registerinhalts DX nach dem Call wird, je nach Funktion, das Verzeichnis bzw. der Filename ausgegeben (ohne Pfad).
\par 
\par \pard\plain \s25\fi-1134\li567\nowidctlpar\tx567\tx1134\tx1418\tx2835\tx6804 \f9\fs18\lang1031 \tab {\b Funktion 0x4B ("Exec Program").} Diese Funktion wurde in 2 Zeilen gesplittet.    Vor dem Call wird eine Protokollzeile ausgegeben, in der
 nur die linken Registerwerte aussagekr\'e4
ftig sind. Das Protokoll nach dem Call zeigt in der rechten Registern    die Ergebnisse des Calls an, die linken Register sind mit den Registern des Protokolls vor dem Call identisch. Die Funktionsbezeichnung wurde hier auf "ReturnPrg" ge\'e4
ndert. Im Unterschied zu DOS wartet unter Windows die Funktion "Exec Program" nicht, bis das aufgerufene Programm beendet ist. Zu erw\'e4hnen w\'e4re noch, da\'df die in den Protokollzeilen ausgegebene Tasknummer nicht sofort nach der Funktio
n 0x4B wechseln mu\'df.
\par 
\par \pard\plain \s24\qj\fi-1134\li567\nowidctlpar\tx567\tx1134\tx2835\hyphpar0 \f9\fs18\lang1031\kerning1 \tab {\b Funktion 0x4C ("Terminate Program")}.    Hier sind nur die Registerwerte vor dem Call, also die links stehenden, g\'fcltig, da es keine R\'fc
ckkehr von dieser Funktion gibt.
\par 
\par \tab {\fs20\ul Men\'fcfunktionen}
\par 
\par \tab 1. Stop/Start DosMonW:\tab startet bzw. beendet die Protokollierung
\par \tab 2. Clear        \tab l\'f6scht die bisher protokollierten Aufrufe
\par \tab 3. Speichern\tab speichert das bisherige Protokoll in einer Datei im TEMP-Verzeichnis
\par \tab 4. Optionen\tab ruft den Dialog zur Einstellung der Optionen auf (s.w.u.)
\par \tab 5. Beenden\tab beendet DosMonW
\par \tab 
\par 
\par \tab {\fs20\ul Optionen}
\par 
\par \tab 1. Real Mode/Protected Mode
\par 
\par \tab  Der Monitor kann unter Windows 3.X und Windows 95 sowohl die DOS-Aufrufe im Protected-Mode als auch im Real-Mode protokollieren. F\'fcr ein Protokoll im Real-Mode mu\'df das Code-Segment der zugeh\'f6
rigen DLL DOSMON.DLL im konventionellen Speicher geladen sein - falls nicht, verweigert der Monitor den Real-Mode-Modus. Dar\'fcber hinaus sind im Real-Mode die Register CS:IP wenig aussagekr\'e4
ftig, da sie normalerweise immer auf diesselbe Adresse - zum R\'fccksprung in den Protected-Mode \endash  zeigen.
\par \tab  Wird als DPMI Host das zu Windows 3.1 mitgelieferte DOSX.EXE verwendet ( f\'fcr Windows im Standard Mode ), wird der Real-Mode Modus von DosMonW nicht funktionieren.
\par 
\par \tab 2. Nur fehlerhafte Calls
\par 
\par \tab  Falls aktiviert, werden nur die nicht erfolgreichen DOS-Aufrufe, intern erkennbar am gesetzten Carry-Flag, protokolliert.
\par 
\par \tab 3. Timerintervall
\par 
\par \tab Zeitintervall in ms f\'fcr Bildschirmrefresh, Voreinstellung 2000, entspricht 2 Sekunden.
\par 
\par \tab 
\par 
\par \pard \s24\fi-1134\li567\nowidctlpar\tx567\tx1134\tx2835\hyphpar0 \tab {\fs20\ul Parameter}
\par 
\par \tab In DOSMONW.INI kann durch geeignete Parameterangabe die Protokollierung selektiv eingestellt werden. Dazu existieren die 16 Parameter FN000F, FN101F, ..., FNF0FF
. Jeder Parameter kann einen Wert zwischen 0 und 65635 annehmen und steuert mit seinen 16 Bits jeweils die Protokollierung von 16 DOS-Funktionen. Fehlt ein Parameter, wird die Voreinstellung von 65535 verwendet.
\par \tab Beispiel:
\par \tab FN000F=0xFFEB\tab DOS-Funktionen 00 bis 0Fh werden bis auf Funktion 02 und 04 protokolliert.
\par \pard\plain \nowidctlpar\hyphpar0 \fs20\lang1031\kerning1 
\par \pard\plain \s24\fi-1134\li567\nowidctlpar\tx567\tx1134\tx2835\hyphpar0 \f9\fs18\lang1031\kerning1 \tab {\ul Hinweis:} Diese Parameter k\'f6nnen nur manuell in DOSMONW.INI ver\'e4ndert werden.
\par \pard\plain \nowidctlpar\hyphpar0 \fs20\lang1031\kerning1 
\par \tab 
\par 
\par 
\par }